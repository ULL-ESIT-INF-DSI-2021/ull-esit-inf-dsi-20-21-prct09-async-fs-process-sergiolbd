"use strict";/**
 * Patrón Template Method (Comportamiento)
 * Permite definir un esqueleto algorítmico en una superclase, de modo que
 * aquellas subclases que extiendan el comportamiento de dicho esqueleto puedan
 * sobreescribir algunos pasos del algorítmo sin modificar su estructura base
 *
 * Ventajas --> Respeta Open-closed
 * Destentajas --> No respeta Liskov Substitution
 */function cov_xkf76gf08(){var path="/home/sergio/Documentos/3\xBA Info/2\xBA Cuatri/DSI/mod2/src/TemplateMethod.ts";var hash="9feb3bb297816fe87b04f8d23d1489c455ddea9d";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/sergio/Documentos/3\xBA Info/2\xBA Cuatri/DSI/mod2/src/TemplateMethod.ts",statementMap:{"0":{start:{line:11,column:0},end:{line:11,column:62}},"1":{start:{line:12,column:0},end:{line:12,column:44}},"2":{start:{line:15,column:8},end:{line:15,column:37}},"3":{start:{line:18,column:8},end:{line:18,column:40}},"4":{start:{line:19,column:8},end:{line:19,column:30}},"5":{start:{line:22,column:8},end:{line:22,column:27}},"6":{start:{line:25,column:8},end:{line:25,column:31}},"7":{start:{line:28,column:21},end:{line:28,column:73}},"8":{start:{line:29,column:8},end:{line:31,column:9}},"9":{start:{line:29,column:21},end:{line:29,column:22}},"10":{start:{line:30,column:12},end:{line:30,column:58}},"11":{start:{line:33,column:8},end:{line:33,column:22}},"12":{start:{line:36,column:0},end:{line:36,column:24}},"13":{start:{line:39,column:8},end:{line:39,column:26}},"14":{start:{line:40,column:8},end:{line:40,column:37}},"15":{start:{line:43,column:8},end:{line:43,column:21}},"16":{start:{line:54,column:8},end:{line:54,column:33}},"17":{start:{line:57,column:0},end:{line:57,column:30}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:14,column:4},end:{line:14,column:5}},loc:{start:{line:14,column:28},end:{line:16,column:5}},line:14},"1":{name:"(anonymous_1)",decl:{start:{line:17,column:4},end:{line:17,column:5}},loc:{start:{line:17,column:10},end:{line:20,column:5}},line:17},"2":{name:"(anonymous_2)",decl:{start:{line:21,column:4},end:{line:21,column:5}},loc:{start:{line:21,column:16},end:{line:23,column:5}},line:21},"3":{name:"(anonymous_3)",decl:{start:{line:24,column:4},end:{line:24,column:5}},loc:{start:{line:24,column:15},end:{line:26,column:5}},line:24},"4":{name:"(anonymous_4)",decl:{start:{line:27,column:4},end:{line:27,column:5}},loc:{start:{line:27,column:23},end:{line:34,column:5}},line:27},"5":{name:"(anonymous_5)",decl:{start:{line:38,column:4},end:{line:38,column:5}},loc:{start:{line:38,column:28},end:{line:41,column:5}},line:38},"6":{name:"(anonymous_6)",decl:{start:{line:42,column:4},end:{line:42,column:5}},loc:{start:{line:42,column:14},end:{line:44,column:5}},line:42},"7":{name:"(anonymous_7)",decl:{start:{line:53,column:4},end:{line:53,column:5}},loc:{start:{line:53,column:21},end:{line:55,column:5}},line:53}},branchMap:{"0":{loc:{start:{line:28,column:21},end:{line:28,column:73}},type:"cond-expr",locations:[{start:{line:28,column:45},end:{line:28,column:52}},{start:{line:28,column:55},end:{line:28,column:73}}],line:28}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},b:{"0":[0,0]},inputSourceMap:{version:3,file:"/home/sergio/Documentos/3\xBA Info/2\xBA Cuatri/DSI/mod2/src/TemplateMethod.ts",sources:["/home/sergio/Documentos/3\xBA Info/2\xBA Cuatri/DSI/mod2/src/TemplateMethod.ts"],names:[],mappings:";AAAA;;;;;;;;GAQG;;;AAGH,MAAsB,MAAM;IAE1B,YAAsB,UAAoB;QAApB,eAAU,GAAV,UAAU,CAAU;IAE1C,CAAC;IAEM,GAAG;QACR,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;QAEhC,IAAI,CAAC,cAAc,EAAE,CAAC;IACxB,CAAC;IAED,SAAS;QACP,OAAO,IAAI,CAAC,MAAM,CAAC;IACrB,CAAC;IAED,QAAQ;QACN,OAAO,IAAI,CAAC,UAAU,CAAC;IACzB,CAAC;IAED,SAAS,CAAC,OAAe;QACvB,IAAI,MAAM,GAAG,OAAO,KAAK,SAAS,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;QAElE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YAC/C,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;SAC/C;QACD,wBAAwB;QACxB,OAAO,MAAM,CAAC;IAChB,CAAC;CAMF;AAlCD,wBAkCC;AAED,MAAa,SAAU,SAAQ,MAAM;IACnC,YAAsB,UAAoB;QACxC,KAAK,CAAC,UAAU,CAAC,CAAC;QADE,eAAU,GAAV,UAAU,CAAU;IAE1C,CAAC;IAED,GAAG,CAAC,CAAS,EAAE,CAAQ;QACrB,OAAO,CAAC,GAAC,CAAC,CAAC;IACb,CAAC;IAED,uCAAuC;IACvC,uEAAuE;IAEvE,uDAAuD;IACvD,qDAAqD;IACrD,MAAM;IACN,0BAA0B;IAC1B,mBAAmB;IACnB,IAAI;IAEJ,cAAc;QACZ,OAAO,iBAAiB,CAAC;IAC3B,CAAC;CACF;AAtBD,8BAsBC",sourcesContent:["/**\n * Patr\xF3n Template Method (Comportamiento)\n * Permite definir un esqueleto algor\xEDtmico en una superclase, de modo que\n * aquellas subclases que extiendan el comportamiento de dicho esqueleto puedan\n * sobreescribir algunos pasos del algor\xEDtmo sin modificar su estructura base\n * \n * Ventajas --> Respeta Open-closed\n * Destentajas --> No respeta Liskov Substitution\n */\n\n\nexport abstract class Reduce {\n  protected result: number;\n  constructor(protected inputArray: number[]) {\n\n  }\n\n  public run() {\n    this.result = this.addReduce(0);\n\n    this.afterAddReduce();\n  }\n\n  getResult() {\n    return this.result;\n  }\n\n  getArray() {\n    return this.inputArray;\n  }\n\n  addReduce(inicial: number): number {\n    let result = inicial !== undefined ? inicial : this.inputArray[0];\n\n    for (let i = 0; i < this.inputArray.length; i++) {\n      result = this.add(result, this.inputArray[i]);\n    }\n    // this.result = result;\n    return result;\n  }\n\n  abstract afterAddReduce(): string;\n\n  // abstract addReduce(incial: number): number;\n  abstract add(a: number, b:number): number;\n}\n\nexport class AddReduce extends Reduce {\n  constructor(protected inputArray: number[]) {\n    super(inputArray);\n  }\n\n  add(a: number, b:number) {\n    return a+b;\n  }\n\n  // addReduce(inicial: number): number {\n  //   let result = inicial !== undefined ? inicial : this.inputArray[0];\n\n  //   for (let i = 0; i < this.inputArray.length; i++) {\n  //     result = this.add(result, this.inputArray[i]);\n  //   }\n  //   this.result = result;\n  //   return result;\n  // }\n\n  afterAddReduce() {\n    return 'Vector reducido';\n  }\n}\n\n\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"9feb3bb297816fe87b04f8d23d1489c455ddea9d"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_xkf76gf08=function(){return actualCoverage;};}return actualCoverage;}cov_xkf76gf08();cov_xkf76gf08().s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_xkf76gf08().s[1]++;exports.AddReduce=exports.Reduce=void 0;class Reduce{constructor(inputArray){cov_xkf76gf08().f[0]++;cov_xkf76gf08().s[2]++;this.inputArray=inputArray;}run(){cov_xkf76gf08().f[1]++;cov_xkf76gf08().s[3]++;this.result=this.addReduce(0);cov_xkf76gf08().s[4]++;this.afterAddReduce();}getResult(){cov_xkf76gf08().f[2]++;cov_xkf76gf08().s[5]++;return this.result;}getArray(){cov_xkf76gf08().f[3]++;cov_xkf76gf08().s[6]++;return this.inputArray;}addReduce(inicial){cov_xkf76gf08().f[4]++;let result=(cov_xkf76gf08().s[7]++,inicial!==undefined?(cov_xkf76gf08().b[0][0]++,inicial):(cov_xkf76gf08().b[0][1]++,this.inputArray[0]));cov_xkf76gf08().s[8]++;for(let i=(cov_xkf76gf08().s[9]++,0);i<this.inputArray.length;i++){cov_xkf76gf08().s[10]++;result=this.add(result,this.inputArray[i]);}// this.result = result;
cov_xkf76gf08().s[11]++;return result;}}cov_xkf76gf08().s[12]++;exports.Reduce=Reduce;class AddReduce extends Reduce{constructor(inputArray){cov_xkf76gf08().f[5]++;cov_xkf76gf08().s[13]++;super(inputArray);cov_xkf76gf08().s[14]++;this.inputArray=inputArray;}add(a,b){cov_xkf76gf08().f[6]++;cov_xkf76gf08().s[15]++;return a+b;}// addReduce(inicial: number): number {
//   let result = inicial !== undefined ? inicial : this.inputArray[0];
//   for (let i = 0; i < this.inputArray.length; i++) {
//     result = this.add(result, this.inputArray[i]);
//   }
//   this.result = result;
//   return result;
// }
afterAddReduce(){cov_xkf76gf08().f[7]++;cov_xkf76gf08().s[16]++;return'Vector reducido';}}cov_xkf76gf08().s[17]++;exports.AddReduce=AddReduce;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL2hvbWUvc2VyZ2lvL0RvY3VtZW50b3MvM8K6IEluZm8vMsK6IEN1YXRyaS9EU0kvbW9kMi9zcmMvVGVtcGxhdGVNZXRob2QudHMiLCJzb3VyY2VzIjpbIi9ob21lL3Nlcmdpby9Eb2N1bWVudG9zLzPCuiBJbmZvLzLCuiBDdWF0cmkvRFNJL21vZDIvc3JjL1RlbXBsYXRlTWV0aG9kLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTs7Ozs7Ozs7R0FRRzs7O0FBR0gsTUFBc0IsTUFBTTtJQUUxQixZQUFzQixVQUFvQjtRQUFwQixlQUFVLEdBQVYsVUFBVSxDQUFVO0lBRTFDLENBQUM7SUFFTSxHQUFHO1FBQ1IsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBRWhDLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQztJQUN4QixDQUFDO0lBRUQsU0FBUztRQUNQLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQztJQUNyQixDQUFDO0lBRUQsUUFBUTtRQUNOLE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQztJQUN6QixDQUFDO0lBRUQsU0FBUyxDQUFDLE9BQWU7UUFDdkIsSUFBSSxNQUFNLEdBQUcsT0FBTyxLQUFLLFNBQVMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBRWxFLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUMvQyxNQUFNLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQy9DO1FBQ0Qsd0JBQXdCO1FBQ3hCLE9BQU8sTUFBTSxDQUFDO0lBQ2hCLENBQUM7Q0FNRjtBQWxDRCx3QkFrQ0M7QUFFRCxNQUFhLFNBQVUsU0FBUSxNQUFNO0lBQ25DLFlBQXNCLFVBQW9CO1FBQ3hDLEtBQUssQ0FBQyxVQUFVLENBQUMsQ0FBQztRQURFLGVBQVUsR0FBVixVQUFVLENBQVU7SUFFMUMsQ0FBQztJQUVELEdBQUcsQ0FBQyxDQUFTLEVBQUUsQ0FBUTtRQUNyQixPQUFPLENBQUMsR0FBQyxDQUFDLENBQUM7SUFDYixDQUFDO0lBRUQsdUNBQXVDO0lBQ3ZDLHVFQUF1RTtJQUV2RSx1REFBdUQ7SUFDdkQscURBQXFEO0lBQ3JELE1BQU07SUFDTiwwQkFBMEI7SUFDMUIsbUJBQW1CO0lBQ25CLElBQUk7SUFFSixjQUFjO1FBQ1osT0FBTyxpQkFBaUIsQ0FBQztJQUMzQixDQUFDO0NBQ0Y7QUF0QkQsOEJBc0JDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBQYXRyw7NuIFRlbXBsYXRlIE1ldGhvZCAoQ29tcG9ydGFtaWVudG8pXG4gKiBQZXJtaXRlIGRlZmluaXIgdW4gZXNxdWVsZXRvIGFsZ29yw610bWljbyBlbiB1bmEgc3VwZXJjbGFzZSwgZGUgbW9kbyBxdWVcbiAqIGFxdWVsbGFzIHN1YmNsYXNlcyBxdWUgZXh0aWVuZGFuIGVsIGNvbXBvcnRhbWllbnRvIGRlIGRpY2hvIGVzcXVlbGV0byBwdWVkYW5cbiAqIHNvYnJlZXNjcmliaXIgYWxndW5vcyBwYXNvcyBkZWwgYWxnb3LDrXRtbyBzaW4gbW9kaWZpY2FyIHN1IGVzdHJ1Y3R1cmEgYmFzZVxuICogXG4gKiBWZW50YWphcyAtLT4gUmVzcGV0YSBPcGVuLWNsb3NlZFxuICogRGVzdGVudGFqYXMgLS0+IE5vIHJlc3BldGEgTGlza292IFN1YnN0aXR1dGlvblxuICovXG5cblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFJlZHVjZSB7XG4gIHByb3RlY3RlZCByZXN1bHQ6IG51bWJlcjtcbiAgY29uc3RydWN0b3IocHJvdGVjdGVkIGlucHV0QXJyYXk6IG51bWJlcltdKSB7XG5cbiAgfVxuXG4gIHB1YmxpYyBydW4oKSB7XG4gICAgdGhpcy5yZXN1bHQgPSB0aGlzLmFkZFJlZHVjZSgwKTtcblxuICAgIHRoaXMuYWZ0ZXJBZGRSZWR1Y2UoKTtcbiAgfVxuXG4gIGdldFJlc3VsdCgpIHtcbiAgICByZXR1cm4gdGhpcy5yZXN1bHQ7XG4gIH1cblxuICBnZXRBcnJheSgpIHtcbiAgICByZXR1cm4gdGhpcy5pbnB1dEFycmF5O1xuICB9XG5cbiAgYWRkUmVkdWNlKGluaWNpYWw6IG51bWJlcik6IG51bWJlciB7XG4gICAgbGV0IHJlc3VsdCA9IGluaWNpYWwgIT09IHVuZGVmaW5lZCA/IGluaWNpYWwgOiB0aGlzLmlucHV0QXJyYXlbMF07XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuaW5wdXRBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgcmVzdWx0ID0gdGhpcy5hZGQocmVzdWx0LCB0aGlzLmlucHV0QXJyYXlbaV0pO1xuICAgIH1cbiAgICAvLyB0aGlzLnJlc3VsdCA9IHJlc3VsdDtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgYWJzdHJhY3QgYWZ0ZXJBZGRSZWR1Y2UoKTogc3RyaW5nO1xuXG4gIC8vIGFic3RyYWN0IGFkZFJlZHVjZShpbmNpYWw6IG51bWJlcik6IG51bWJlcjtcbiAgYWJzdHJhY3QgYWRkKGE6IG51bWJlciwgYjpudW1iZXIpOiBudW1iZXI7XG59XG5cbmV4cG9ydCBjbGFzcyBBZGRSZWR1Y2UgZXh0ZW5kcyBSZWR1Y2Uge1xuICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgaW5wdXRBcnJheTogbnVtYmVyW10pIHtcbiAgICBzdXBlcihpbnB1dEFycmF5KTtcbiAgfVxuXG4gIGFkZChhOiBudW1iZXIsIGI6bnVtYmVyKSB7XG4gICAgcmV0dXJuIGErYjtcbiAgfVxuXG4gIC8vIGFkZFJlZHVjZShpbmljaWFsOiBudW1iZXIpOiBudW1iZXIge1xuICAvLyAgIGxldCByZXN1bHQgPSBpbmljaWFsICE9PSB1bmRlZmluZWQgPyBpbmljaWFsIDogdGhpcy5pbnB1dEFycmF5WzBdO1xuXG4gIC8vICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmlucHV0QXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgLy8gICAgIHJlc3VsdCA9IHRoaXMuYWRkKHJlc3VsdCwgdGhpcy5pbnB1dEFycmF5W2ldKTtcbiAgLy8gICB9XG4gIC8vICAgdGhpcy5yZXN1bHQgPSByZXN1bHQ7XG4gIC8vICAgcmV0dXJuIHJlc3VsdDtcbiAgLy8gfVxuXG4gIGFmdGVyQWRkUmVkdWNlKCkge1xuICAgIHJldHVybiAnVmVjdG9yIHJlZHVjaWRvJztcbiAgfVxufVxuXG5cbiJdfQ==
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3Nlcmdpby9Eb2N1bWVudG9zLzPCuiBJbmZvLzLCuiBDdWF0cmkvRFNJL21vZDIvc3JjL1RlbXBsYXRlTWV0aG9kLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJhQUFBOzs7Ozs7OztBQVFHLEcsaS9MQU9BO3dPQUpILEtBQXNCLENBQUEsTUFBTSxDQUUxQixXQUFBLENBQXNCLFVBQXRCLENBQTBDLCtDQUFwQixLQUFBLFVBQUEsQ0FBQSxVQUFBLENBRXJCLENBRU0sR0FBRyxFQUFBLCtDQUNSLEtBQUssTUFBTCxDQUFjLEtBQUssU0FBTCxDQUFlLENBQWYsQ0FBZCxDQURRLHVCQUdSLEtBQUssY0FBTCxHQUNELENBRUQsU0FBUyxFQUFBLCtDQUNQLE1BQU8sTUFBSyxNQUFaLENBQ0QsQ0FFRCxRQUFRLEVBQUEsK0NBQ04sTUFBTyxNQUFLLFVBQVosQ0FDRCxDQUVELFNBQVMsQ0FBQyxPQUFELENBQWdCLHdCQUN2QixHQUFJLENBQUEsTUFBTSx5QkFBRyxPQUFPLEdBQUssU0FBWiw0QkFBd0IsT0FBeEIsNkJBQWtDLEtBQUssVUFBTCxDQUFnQixDQUFoQixDQUFsQyxDQUFILENBQVYsQ0FEdUIsdUJBR3ZCLElBQUssR0FBSSxDQUFBLENBQUMseUJBQUcsQ0FBSCxDQUFWLENBQWdCLENBQUMsQ0FBRyxLQUFLLFVBQUwsQ0FBZ0IsTUFBcEMsQ0FBNEMsQ0FBQyxFQUE3QyxDQUFpRCx5QkFDL0MsTUFBTSxDQUFHLEtBQUssR0FBTCxDQUFTLE1BQVQsQ0FBaUIsS0FBSyxVQUFMLENBQWdCLENBQWhCLENBQWpCLENBQVQsQ0FDRCxDQUNEO0FBTnVCLHdCQU92QixNQUFPLENBQUEsTUFBUCxDQUNELENBNUJ5QixDLHdCQUE1QixPQUFBLENBQUEsTUFBQSxDQUFBLE1BQUEsQ0FvQ0EsS0FBYSxDQUFBLFNBQWIsUUFBK0IsQ0FBQSxNQUFNLENBQ25DLFdBQUEsQ0FBc0IsVUFBdEIsQ0FBMEMsZ0RBQ3hDLE1BQU0sVUFBTixFQUR3Qyx3QkFBcEIsS0FBQSxVQUFBLENBQUEsVUFBQSxDQUVyQixDQUVELEdBQUcsQ0FBQyxDQUFELENBQVksQ0FBWixDQUFvQixnREFDckIsTUFBTyxDQUFBLENBQUMsQ0FBQyxDQUFULENBQ0QsQ0FFRDtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUEsY0FBYyxFQUFBLGdEQUNaLE1BQU8saUJBQVAsQ0FDRCxDQXJCa0MsQyx3QkFBckMsT0FBQSxDQUFBLFNBQUEsQ0FBQSxTQUFBLEMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFBhdHLDs24gVGVtcGxhdGUgTWV0aG9kIChDb21wb3J0YW1pZW50bylcbiAqIFBlcm1pdGUgZGVmaW5pciB1biBlc3F1ZWxldG8gYWxnb3LDrXRtaWNvIGVuIHVuYSBzdXBlcmNsYXNlLCBkZSBtb2RvIHF1ZVxuICogYXF1ZWxsYXMgc3ViY2xhc2VzIHF1ZSBleHRpZW5kYW4gZWwgY29tcG9ydGFtaWVudG8gZGUgZGljaG8gZXNxdWVsZXRvIHB1ZWRhblxuICogc29icmVlc2NyaWJpciBhbGd1bm9zIHBhc29zIGRlbCBhbGdvcsOtdG1vIHNpbiBtb2RpZmljYXIgc3UgZXN0cnVjdHVyYSBiYXNlXG4gKiBcbiAqIFZlbnRhamFzIC0tPiBSZXNwZXRhIE9wZW4tY2xvc2VkXG4gKiBEZXN0ZW50YWphcyAtLT4gTm8gcmVzcGV0YSBMaXNrb3YgU3Vic3RpdHV0aW9uXG4gKi9cblxuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgUmVkdWNlIHtcbiAgcHJvdGVjdGVkIHJlc3VsdDogbnVtYmVyO1xuICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgaW5wdXRBcnJheTogbnVtYmVyW10pIHtcblxuICB9XG5cbiAgcHVibGljIHJ1bigpIHtcbiAgICB0aGlzLnJlc3VsdCA9IHRoaXMuYWRkUmVkdWNlKDApO1xuXG4gICAgdGhpcy5hZnRlckFkZFJlZHVjZSgpO1xuICB9XG5cbiAgZ2V0UmVzdWx0KCkge1xuICAgIHJldHVybiB0aGlzLnJlc3VsdDtcbiAgfVxuXG4gIGdldEFycmF5KCkge1xuICAgIHJldHVybiB0aGlzLmlucHV0QXJyYXk7XG4gIH1cblxuICBhZGRSZWR1Y2UoaW5pY2lhbDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICBsZXQgcmVzdWx0ID0gaW5pY2lhbCAhPT0gdW5kZWZpbmVkID8gaW5pY2lhbCA6IHRoaXMuaW5wdXRBcnJheVswXTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5pbnB1dEFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICByZXN1bHQgPSB0aGlzLmFkZChyZXN1bHQsIHRoaXMuaW5wdXRBcnJheVtpXSk7XG4gICAgfVxuICAgIC8vIHRoaXMucmVzdWx0ID0gcmVzdWx0O1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBhYnN0cmFjdCBhZnRlckFkZFJlZHVjZSgpOiBzdHJpbmc7XG5cbiAgLy8gYWJzdHJhY3QgYWRkUmVkdWNlKGluY2lhbDogbnVtYmVyKTogbnVtYmVyO1xuICBhYnN0cmFjdCBhZGQoYTogbnVtYmVyLCBiOm51bWJlcik6IG51bWJlcjtcbn1cblxuZXhwb3J0IGNsYXNzIEFkZFJlZHVjZSBleHRlbmRzIFJlZHVjZSB7XG4gIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBpbnB1dEFycmF5OiBudW1iZXJbXSkge1xuICAgIHN1cGVyKGlucHV0QXJyYXkpO1xuICB9XG5cbiAgYWRkKGE6IG51bWJlciwgYjpudW1iZXIpIHtcbiAgICByZXR1cm4gYStiO1xuICB9XG5cbiAgLy8gYWRkUmVkdWNlKGluaWNpYWw6IG51bWJlcik6IG51bWJlciB7XG4gIC8vICAgbGV0IHJlc3VsdCA9IGluaWNpYWwgIT09IHVuZGVmaW5lZCA/IGluaWNpYWwgOiB0aGlzLmlucHV0QXJyYXlbMF07XG5cbiAgLy8gICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuaW5wdXRBcnJheS5sZW5ndGg7IGkrKykge1xuICAvLyAgICAgcmVzdWx0ID0gdGhpcy5hZGQocmVzdWx0LCB0aGlzLmlucHV0QXJyYXlbaV0pO1xuICAvLyAgIH1cbiAgLy8gICB0aGlzLnJlc3VsdCA9IHJlc3VsdDtcbiAgLy8gICByZXR1cm4gcmVzdWx0O1xuICAvLyB9XG5cbiAgYWZ0ZXJBZGRSZWR1Y2UoKSB7XG4gICAgcmV0dXJuICdWZWN0b3IgcmVkdWNpZG8nO1xuICB9XG59XG5cblxuIl19